<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Merano BUTTON</title>

<meta property="og:title" content="Merano BUTTON">
<meta property="og:description" content="メラノちゃんのかわいいボイスがいつでも聞けるボタン！ チュッ♥">
<meta property="og:type" content="website">
<meta property="og:url" content="https://kagekin.github.io/MeranoBUTTON/">
<meta property="og:image" content="https://kagekin.github.io/MeranoBUTTON/img/ogp.png">

<meta name="twitter:card" content="summary_large_image">
<meta name="twitter:title" content="Merano BUTTON">
<meta name="twitter:description" content="メラノちゃんのかわいいボイスがいつでも聞けるボタン！ チュッ♥">
<meta name="twitter:image" content="https://kagekin.github.io/MeranoBUTTON/img/ogp.png">
<meta name="twitter:site" content="@kgkn42">      <meta name="twitter:creator" content="@kgkn42">  ```


    <!-- Google Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Fredoka+One&family=Noto+Serif+JP:wght@400;600&display=swap" rel="stylesheet">

    <!-- Font Awesome for Icons -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.2/css/all.min.css">

    <style>
        :root {
            --bg-color: #231942; /* ダークパープル */
            --primary-color: #f25287; /* ブライトピンク */
            --accent-color: #fee440; /* バイブラントイエロー */
            --text-color: #fafafa;
            --shadow-color: rgba(254, 228, 64, 0.6);
            --container-bg: rgba(0, 0, 0, 0.3);
            --button-grad-start: #e03f75;
            --button-grad-end: #a42752;
        }

        body {
            background-color: var(--bg-color);
            color: var(--text-color);
            font-family: 'Noto Serif JP', serif;
            margin: 0;
            min-height: 100vh;
            background-image: radial-gradient(circle at 15% 15%, rgba(242, 82, 135, 0.2) 0%, transparent 40%), radial-gradient(circle at 85% 85%, rgba(254, 228, 64, 0.15) 0%, transparent 50%);
            overflow-x: hidden;
        }

        /* Layout System */
        .main-layout {
            display: flex;
            width: 100%;
            min-height: 100vh;
            align-items: center;
            padding: 2rem;
            box-sizing: border-box;
        }

        .controls-panel {
            flex: 1;
            padding-right: 2rem;
            display: flex;
            justify-content: center;
            align-items: center;
            z-index: 10;
        }

        .character-panel {
            flex: 1;
            display: flex;
            justify-content: center;
            align-items: center;
            height: 90vh;
            position: relative;
        }

        .container {
            width: 100%;
            max-width: 600px;
            text-align: center;
            padding: 2rem;
            background-color: var(--container-bg);
            border: 1px solid var(--accent-color);
            border-radius: 20px;
            box-shadow: 0 0 30px var(--shadow-color);
            backdrop-filter: blur(10px);
            -webkit-backdrop-filter: blur(10px);
        }

        /* Header */
        .header {
            margin-bottom: 2rem;
            opacity: 0;
            transform: translateY(-30px);
        }

        .logo {
            font-family: 'Fredoka One', cursive;
            font-size: clamp(2.2rem, 6vw, 3.2rem);
            color: var(--accent-color);
            text-shadow: 0 0 5px var(--primary-color), 0 0 15px var(--primary-color);
            margin: 0;
        }

        .social-links-wrapper {
            display: flex;
            justify-content: center;
            align-items: center;
            gap: 1.5rem;
            margin-top: 1rem;
        }

        .social-link {
            display: inline-flex;
            align-items: center;
            gap: 0.75rem;
            text-decoration: none;
            color: var(--primary-color);
            font-size: 1rem;
            font-weight: 600;
            transition: color 0.3s ease, text-shadow 0.3s ease;
        }

            .social-link:hover {
                color: var(--accent-color);
                text-shadow: 0 0 8px var(--shadow-color);
            }

            .social-link i {
                font-size: 1.5rem;
            }

        /* Voice Button Grid */
        .voice-sampler {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(180px, 1fr));
            gap: 1.2rem;
            margin-top: 2rem;
        }

        .voice-button {
            background: linear-gradient(145deg, var(--button-grad-start), var(--button-grad-end));
            color: var(--text-color);
            border: 2px solid var(--accent-color);
            border-radius: 15px;
            padding: 1rem;
            font-family: 'Noto Serif JP', serif;
            font-size: 0.95rem;
            font-weight: 600;
            cursor: pointer;
            position: relative;
            overflow: hidden;
            transition: transform 0.3s ease, box-shadow 0.3s ease;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.5);
            opacity: 0;
            transform: translateY(30px);
        }

            .voice-button:hover {
                transform: translateY(-5px) scale(1.03);
                box-shadow: 0 0 20px var(--shadow-color);
            }

            .voice-button:active {
                transform: translateY(0) scale(0.98);
            }

        .click-effect {
            position: absolute;
            top: 50%;
            left: 50%;
            width: 10px;
            height: 10px;
            background-color: var(--accent-color);
            border-radius: 50%;
            transform: translate(-50%, -50%) scale(0);
            opacity: 0.7;
            pointer-events: none;
        }

        /* Character Illustration */
        #character-container {
            width: clamp(300px, 45vw, 600px);
            height: 100%;
            position: relative;
            pointer-events: none;
            filter: drop-shadow(0 0 15px var(--primary-color));
            overflow: hidden;
        }

        #character-image {
            position: absolute;
            width: auto;
            height: 250%;
            top: -25%;
            left: 50%;
            transform-origin: 50% 75%;
            transition: transform 0.5s ease;
        }

        /* Effects container */
        #effect-container {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            pointer-events: none;
            overflow: hidden;
            z-index: 1;
        }

        .effect-glow {
            position: absolute;
            top: 60%;
            left: 50%;
            width: 100px;
            height: 100px;
            background: radial-gradient(circle, rgba(242, 82, 135, 0.6) 0%, rgba(242, 82, 135, 0) 70%);
            border-radius: 50%;
            transform: translate(-50%, -50%) scale(0);
        }

        .effect-heart {
            position: absolute;
            top: 60%;
            left: 50%;
            width: 30px;
            height: 30px;
            color: var(--primary-color);
            transform: translate(-50%, -50%);
        }

        /* Responsive Design */
        @media (max-width: 900px) {
            .main-layout {
                flex-direction: column;
                min-height: auto;
                padding: 0;
            }

            .character-panel {
                position: relative;
                height: 50vh;
                width: 100%;
                flex: none;
                margin: 0;
                z-index: 5;
            }

            .controls-panel {
                padding: 2rem 1rem;
                width: 100%;
                box-sizing: border-box;
                margin: 0;
                z-index: 10;
            }
        }
    </style>
</head>
<body>

    <div class="main-layout">
        <div class="character-panel">
            <div id="effect-container"></div>
            <div id="character-container">
                <img id="character-image" src="https://i.imgur.com/6KVik27.png" alt="Merano 立ち絵">
            </div>
        </div>
        <div class="controls-panel">
            <div class="container">
                <header class="header">
                    <h1 class="logo">Merano BUTTON</h1>
                    <div class="social-links-wrapper">
                        <a href="https://x.com/pub_merano" target="_blank" rel="noopener noreferrer" class="social-link">
                            <i class="fa-brands fa-x-twitter"></i>
                            <span>@pub_merano</span>
                        </a>
                        <!-- Share Button -->
                        <a id="share-button" href="#" target="_blank" rel="noopener noreferrer" class="social-link">
                            <i class="fa-solid fa-share-alt"></i>
                            <span>シェアする</span>
                        </a>
                    </div>
                </header>

                <main>
                    <div id="voice-sampler" class="voice-sampler">
                        <!-- Voice buttons will be generated by JavaScript -->
                    </div>
                </main>
            </div>
        </div>
    </div>

    <!-- Audio elements -->
    <div id="audio-container"></div>

    <!-- GSAP -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.5/gsap.min.js"></script>

    <script>
        document.addEventListener('DOMContentLoaded', () => {
            // Change: Updated audio file paths
            const voices = [
                { id: 'voice_01', text: 'チュッ♥', file: 'audio/01.wav' },
                { id: 'voice_02', text: 'いらっしゃーい！', file: 'audio/02.wav' },
                { id: 'voice_03', text: 'かわいい～！', file: 'audio/03.wav' },
                { id: 'voice_04', text: 'えー？ かわいい？ ありがとう！', file: 'audio/04.wav' },
                { id: 'voice_05', text: 'えー？ かわいい？ 知ってる', file: 'audio/05.wav' },
                { id: 'voice_06', text: 'あら～♥', file: 'audio/06.wav' },
                { id: 'voice_07', text: '乾杯～！', file: 'audio/07.wav' },
                { id: 'voice_08', text: '酒レディオープナー！', file: 'audio/08.wav' },
                { id: 'voice_09', text: 'ぷぅ！', file: 'audio/09.wav' },
                { id: 'voice_10', text: 'ちょっとヤダ～', file: 'audio/10.wav' },
                { id: 'voice_11', text: 'なんで～！？', file: 'audio/11.wav' },
                { id: 'voice_12', text: '皆に素敵が降り注ぎますよーに！ チュッ♥', file: 'audio/12.wav' }
            ];

            const samplerContainer = document.getElementById('voice-sampler');
            const audioContainer = document.getElementById('audio-container');
            const characterImage = document.getElementById('character-image');
            const effectContainer = document.querySelector('.character-panel #effect-container');
            const shareButton = document.getElementById('share-button');
            const ogUrlTag = document.getElementById('og-url');

            // --- Setup Share Button and OGP URL ---
            const shareText = "メラノボタン メラノのお声が流れるボタン！ チュッ♥";
            const pageUrl = window.location.href;

            if (ogUrlTag) {
                ogUrlTag.setAttribute('content', pageUrl);
            }

            if (shareButton) {
                const tweetUrl = `https://twitter.com/intent/tweet?text=${encodeURIComponent(shareText)}&url=${encodeURIComponent(pageUrl)}`;
                shareButton.href = tweetUrl;
            }

            // Set initial horizontal position with GSAP for centering
            gsap.set(characterImage, { xPercent: -50 });

            // --- Function to trigger all effects on click ---
            function playClickEffects() {
                gsap.killTweensOf(characterImage);
                gsap.set(characterImage, { rotation: 0 });

                const tl = gsap.timeline();
                tl.to(characterImage, { rotation: -8, duration: 0.5, ease: 'sine.inOut' })
                    .to(characterImage, { rotation: 8, duration: 1, ease: 'sine.inOut' })
                    .to(characterImage, { rotation: 0, duration: 0.5, ease: 'sine.inOut' });

                const glow = document.createElement('div');
                glow.className = 'effect-glow';
                effectContainer.appendChild(glow);
                gsap.fromTo(glow,
                    { scale: 0, opacity: 1 },
                    { scale: 5, opacity: 0, duration: 0.8, ease: 'power1.out', onComplete: () => glow.remove() }
                );

                for (let i = 0; i < 5; i++) {
                    const heart = document.createElement('div');
                    heart.className = 'effect-heart';
                    heart.innerHTML = `<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor"><path d="M12 21.35l-1.45-1.32C5.4 15.36 2 12.28 2 8.5 2 5.42 4.42 3 7.5 3c1.74 0 3.41.81 4.5 2.09C13.09 3.81 14.76 3 16.5 3 19.58 3 22 5.42 22 8.5c0 3.78-3.4 6.86-8.55 11.54L12 21.35z"/></svg>`;
                    effectContainer.appendChild(heart);

                    gsap.fromTo(heart,
                        { y: 0, scale: 0.5, opacity: 1 },
                        {
                            y: -250 - Math.random() * 50,
                            x: (Math.random() - 0.5) * 200,
                            scale: 1 + Math.random(),
                            opacity: 0,
                            rotation: (Math.random() - 0.5) * 60,
                            duration: 1.5 + Math.random(),
                            ease: 'power1.out',
                            onComplete: () => heart.remove()
                        }
                    );
                }
            }

            // Create buttons and audio elements
            voices.forEach(voice => {
                const button = document.createElement('button');
                button.className = 'voice-button';
                button.textContent = voice.text;
                button.dataset.voiceId = voice.id;
                samplerContainer.appendChild(button);

                const effect = document.createElement('div');
                effect.className = 'click-effect';
                button.appendChild(effect);

                // Create audio element for each voice
                const audio = document.createElement('audio');
                audio.id = `audio-${voice.id}`;
                audio.src = voice.file;
                audio.preload = 'auto';
                audioContainer.appendChild(audio);

                button.addEventListener('click', () => {
                    const audioEl = document.getElementById(`audio-${voice.id}`);
                    if (audioEl) {
                        audioEl.currentTime = 0;
                        audioEl.play();
                    } else {
                        console.log(`Audio for "${voice.text}" not found.`);
                    }

                    playClickEffects();

                    gsap.fromTo(effect,
                        { scale: 0, opacity: 0.7 },
                        { scale: 15, opacity: 0, duration: 0.7, ease: 'power1.out' }
                    );
                });
            });

            // Entrance animations
            const tl = gsap.timeline({ delay: 0.3 });
            tl.to('.header', { duration: 1, opacity: 1, y: 0, ease: 'bounce.out' })
                .to('.voice-button', {
                    duration: 0.8,
                    opacity: 1,
                    y: 0,
                    ease: 'back.out(1.7)',
                    stagger: 0.08
                }, "-=0.8")
                .fromTo(characterImage,
                    { opacity: 0, scale: 0.8, xPercent: -50, x: 100 },
                    { duration: 1.2, opacity: 1, scale: 1, x: 0, ease: 'elastic.out(1, 0.75)' },
                    0.3
                );
        });
    </script>
</body>
</html>
